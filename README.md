# Universal Video Transcriber

**Universal Video Transcriber** is a native macOS application built with SwiftUI that provides powerful, privacy-focused video transcription using OpenAI's Whisper engine. All transcription happens locally on your Mac - no internet required after the initial model download.

> **Copyright Â© 2026 mpcode. All Rights Reserved.**
> This project and its contents are proprietary and confidential.

## Key Features

*   **Whisper Transcription:** High-accuracy local transcription using Whisper Medium model (~94% accuracy, 1.5GB)
*   **99 Languages:** Support for 99 languages with automatic language detection
*   **Privacy-First:** All transcription runs locally on your Mac - no cloud services
*   **Auto-Setup:** Automatic model download on first launch with progress tracking
*   **Video Playback:** Integrated video player with synchronized transcript and optional subtitle overlay
*   **Transcript Editor:** Full-featured editor to merge, split, delete, and correct transcript segments
*   **Search:** Full-text search within generated transcripts
*   **Export:** Export transcripts as plain text (`.txt`) or SubRip Subtitles (`.srt`)

## Technical Architecture

*   **Platform:** macOS 13.0+ (Ventura or later)
*   **Language:** Swift 5.9+
*   **Framework:** SwiftUI
*   **Architecture:** MVVM (Model-View-ViewModel)
*   **Transcription Engine:** Whisper.cpp (local, on-device)

### Core Components

*   **`TranscriptionManager`:** Central coordinator for transcription workflow
*   **`WhisperService`:** Manages local `whisper-cli` execution, automatic model download, and audio conversion
*   **`DownloadStateManager`:** Global singleton for tracking model download progress
*   **`SettingsManager`:** Minimal settings management (first-launch tracking)
*   **`PersistenceManager`:** Legacy autosave system (now primarily uses direct export)

## Prerequisites

*   macOS 13.0 or later
*   Xcode 14.0 or later (for building)
*   1.5GB free disk space (for Whisper Medium model)
*   Internet connection (for initial model download only)

## Build & Installation

### 1. Clone the Repository
```bash
git clone https://github.com/mpcode/UniversalVideoTranscriber.git
cd UniversalVideoTranscriber
```

### 2. Whisper Integration (Critical)
This app relies on the `whisper.cpp` command-line tool for local transcription. You must compile it and add it to the project.

1.  **Clone and Build `whisper.cpp`:**
    ```bash
    git clone https://github.com/ggerganov/whisper.cpp.git
    cd whisper.cpp
    make
    ```
2.  **Add to Xcode:**
    *   Locate the compiled `whisper-cli` binary (usually in the root or `build/bin` folder of the whisper.cpp repo).
    *   Drag and drop `whisper-cli` into the `UniversalVideoTranscriber/Resources` group in Xcode.
    *   **Important:** Ensure "Copy items if needed" is checked and "Add to targets" includes `UniversalVideoTranscriber`.

3.  **Add Libraries:**
    *   Locate `libggml.dylib`, `libwhisper.dylib` and related `.dylib` files generated by the build.
    *   Add them to the project in the same way.

### 3. Build and Run
*   Open `UniversalVideoTranscriber.xcodeproj` in Xcode.
*   Select the `UniversalVideoTranscriber` scheme.
*   Press `Cmd+R` to build and run.

### 4. First Launch
On first launch, the app will automatically:
1. Detect that the Whisper Medium model is not present
2. Download the model (1.5GB) with progress tracking
3. Save it to `~/Library/Application Support/UniversalVideoTranscriber/WhisperModels/`
4. Make the app ready for transcription

## Usage Guide

1.  **First Launch:** Wait for the Whisper Medium model to download automatically (1.5GB, one-time).
2.  **Select Video:** Click "Select Video" to choose a file from your computer.
3.  **Choose Language:** Use the toolbar to select a language or use "Auto-detect" (default).
4.  **Transcribe:** Click the "Transcribe" button and wait for processing (~30 seconds for 5-minute video).
5.  **Edit:** Click the "Edit" button above the transcript to correct text or adjust timestamps.
6.  **Export:** Use the "Export" menu to save as Text or SRT subtitle format.

## Settings

Access Settings via **Cmd+,** or the app menu:
- **Model Status:** View whether Whisper Medium model is downloaded
- **Re-download Model:** Delete and re-download the model if corrupted or outdated
- **About Whisper:** Information about offline processing, language support, and storage location

## Language Support

The Whisper Medium model supports 99 languages including:
- **Common:** English, Spanish, French, German, Italian, Portuguese, Dutch, Lithuanian
- **Auto-detect:** Automatically identifies the spoken language
- **Full List:** Available in the language picker dropdown

All transcription runs locally with ~94% accuracy across supported languages.

## Contribution & Licence

**All rights reserved.** This code is for educational and review purposes only. Redistribution, modification, or commercial use of this source code without explicit written permission from the owner is strictly prohibited.

If you wish to contribute, please fork the repository and submit a Pull Request for review. Note that submitting a PR implies you grant the owner rights to use your contributions.

---
**Maintained by mpcode**
